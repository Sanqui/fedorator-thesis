\chapter{Raspberry Pi-based Solution}
    I have decided to create a Fedorator utilizing the Raspberry Pi computer at its core.  This design is based on the previously introduced Concept B (\ref{pic:concept-b}).
    \section{Specification}
%        \todo{What, exactly, will the device consist of?}
        The device consists of:
        \begin{itemize}
            \item Raspberry Pi~3 Model~B.  Compatibility with Raspberry Pi~2 Model~B may be possible, but not a primary goal.
            \item A compatible 3.5~inch touchscreen (minimum resolution 480*320 pixels) positioned vertically.
            \item A MicroSD card holding the system and several images.
            \item Two male-to-female USB cables.
            \item A 3D printed case.
        \end{itemize}
    
    \section{Software}
        The software running on the Fedorator was written to support support both Raspbian, the Linux distribution designed and officially supported for Raspberry Pi\cite{raspian}, and the eponymous Fedora operating system.  To faciliate easier testing, it's also possible to run the software on a regular Linux desktop.
        
        The current version of the Fedorator software may be found in the appendix.  It is also made available online on GitHub, a code hosting service, under the \todo{TODO} license\cite{fedorator-github}.  On GitHub, continued development will take place.
        
        The software running on the Fedorator is written in Python and uses the free open-source Kivy framework\cite{kivy} to provide a touchscreen interface.  It is is designed to start immediately after boot and stay running indefinitely.
        
        In standby, the screen shows prominently the Fedora logo as well as the name of the device (\ref{pic:fedorator-screenshot-standby.png}).  It prompts the user to insert a flash drive.
        
        \screenshotfigure{fedorator-screenshot-standby.png}
            {The standby screen.}
        
        When the user inserts a flash drive, the text changes, stating "Tap to begin".  The size of the flash drive is also displayed at the bottom part of the screen.
        
        Tapping will transition the screen into a menu listing releases available for writing (\ref{pic:fedorator-screenshot-list.png}).  This list can be browsed by a swiping a finger or stylus across the screen.  Tapping the top left corner will always bring the user back to the previous screen, as indicated by the faint "back" text. 
        
        \screenshotfigure{fedorator-screenshot-list.png}
            {Picking a release from the list.}
        
        After tapping a desired release, a screen with details is presented (\ref{pic:fedorator-screenshot-details.png}).  It contains a short official description of the release and offers to set the version and architecture, should the user wish for something other than the defaults.
        
        \screenshotfigure{fedorator-screenshot-details.png}
            {Taking a look at the Fedora Workstation release.}
        
        If the user is happy with the choice, they can press the sizeable "Flash" button.  This begins the process of writing the image to the flash drive.
        
        \todo{(fedorator) Do I want to change the button from "Flash" to "Write" or such?  Also, Maybe add a warning about this being a destructive action}
        
        A progress bar shows how far along the write is.
        
        After the write is complete, the screen shows "Done!", pulsating in green to grab attention.  It also tells the user they may now safely remove the flash drive.  A single tap at this point will bring the Fedorator back to the standby screen.
        
        \screenshotfigure{fedorator-screenshot-done.png}
            {Fedora LXDE Destkop was sucessfully written to the flash drive. \todo{Replace the screenshot with one that says "drive" if there's time.}}
        
        If at any point the flash drive is removed, the software goes back to the standby screen.
        
        \todo{more words?}
    \section{Case}
        \imagefigurelarge{openscad-case-screenshot.png}
            {A screenshot of the OpenSCAD software with the case open.  Both the source code and the rendered model can be seen.}
        I designed the model for the case using the \textbf{OpenSCAD} software.  In OpenSCAD, objects are described in a scripting language.  One consequence is that when a value such as the length of a certain sub-component is used in several places, it may easily be defined once and used by its name repeatedly.  This allows for easy changes to just about any relevant dimension and also enhances understanding of the source code.  In proper terms, the model I designed is \textit{parametric}.
        
        OpenSCAD allows exporting the model to the STL (STereoLithography) format.  This format can then be processed by a slicing program like Slic3r or Cura to prepare for printing.
        
        \imagefigurelarge{case-render.png}
            {A render of the constructed case, courtesy of OpenSCAD.}
        
        The case I designed for the Fedorator is split into two components, which may be defined as inner and outer, or bottom and top.  These two components are printed separately, but lock together when the device is constructed.
        
        The \textbf{inner part} consists of the floor, a pair of holders designated for USB connectors, and a holder for the Raspberry Pi and display pair.  The enclosure for the Raspberry Pi was designed with meticulous attention to dimensions, otherwise the device would not fit or move too much.
        
        The \textbf{outer part} is majorly the shell and cap.  There are four holes in the shell, one for the display, two for the USB ports, and one in the back for the power cable.
        
        In a misguided attempt at making the device easy to assemble, I had decided to forego any screws or fastening bolts in the design.
        
        \todo{anything else? maybe a "for example, the height can be adjusted easily..."}
        
    \section{Construction of a Prototype}
        \todo{A prototype will be built.  This should probably include pictures and a short description of the process}
        I have put a functional prototype of the Fedorator together.
        
        The prototype consists of all the required components.  The screen is a 3.5 inch HDMI touchscreen display with support for up to 1920*1080 pixels in resolution\cite{aliexpress-touchscreen}.  However, in the prototype, the resolution is kept as 480*320 to ensure broadest support.  Sadly, drivers for this display are proprietary and only provided for Raspbian\cite{osoyoo-drivers}.  Hence, the prototype runs the Raspbian operating system.
        
        \todo{printing process: some small test parts were printed to test fitness, then the full thing, but with a lower height.  It was put together and works.}
        
        
    \section{Instructions}
        Instructions on how to build a Fedorator are included in the BUILD.md file of the public repository, also present in the appendix.
        
        \begin{itemize}
            \item \textbf{Building a Fedorator}: A short intro tells the reader about the Fedorator being open hardware.
            \item \textbf{Components}: The necessary components are listed, with a suggestion on where to buy them.
            \item \textbf{Software}: Contains instruction on how to set up the Fedorator software on the Raspberry Pi.
            \item \textbf{Hardware-specific setup}: Gives some tips on things that may differ between configurations.
            \item \textbf{Assembly}: Contains instructions on printing the case and putting it all together.
        \end{itemize}
        
        
        \begin{comment}
        \todo{These are the final instructions that will be the "result" of the work.  Should they be inlined here?}
        \subsection{Bill of Materials}
            \todo{What is needed to get started - include a table and cost}
            \blind[3]
        \subsection{Step-by-step tutorial}
            \todo{The meat: how to build it from grounds up}
            \todo{Will not be present here, rather as an attachment.}
        \end{comment}
    \section{Conclusions}
        \todo{Words about if it'll be a good fit, after considering the above}
        \todo{Speeds should be included somewhere in here}
        
        \blind[2]
